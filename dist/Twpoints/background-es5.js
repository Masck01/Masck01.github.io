function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{EtE5:function(e,t,r){"use strict";r.r(t),r.d(t,"Background",(function(){return u})),r.d(t,"initSearch",(function(){return l})),r.d(t,"listen",(function(){return h}));var n=r("XNiG"),a=r("itXk"),o=r("Cfvw"),i=r("LRne"),s=r("pLZG"),c=r("iq5f"),u=function(){function e(){var t=this;_classCallCheck(this,e),this.start="initAction",this.stop="stopAction",this.sub$=new c.SubSink,this.svgSubject$=new n.a,this.updated$=new n.a,this.rules={conditions:[new chrome.declarativeContent.PageStateMatcher({pageUrl:{hostEquals:"www.twitch.tv",schemes:["https"]}})],actions:[new chrome.declarativeContent.ShowPageAction]},this.initConfig(),this.stateConverger(),this.updatedSvg$=Object(a.a)([this.updated$.asObservable(),this.svgSubject$.asObservable()]),this.updatedSvg$.subscribe((function(e){var r=_slicedToArray(e,2),n=r[0],a=r[1];n&&!a&&t.chromeRemoveListener(),!n&&a&&t.chromeTabOnUpdate()}))}return _createClass(e,[{key:"initConfig",value:function(){var e=this;chrome.runtime.onInstalled.addListener((function(){chrome.declarativeContent.onPageChanged.removeRules(void 0,(function(){chrome.declarativeContent.onPageChanged.addRules([e.rules])})),e.chromeTabOnUpdate()}))}},{key:"checkTwpoints",value:function(){var e=this;chrome.storage.sync.get("estado",(function(t){e.svgSubject$.next(!0===t.estado&&t.estado)}))}},{key:"chromeTabOnUpdate",value:function(){chrome.tabs.onUpdated.addListener(h)}},{key:"chromeRemoveListener",value:function(){chrome.tabs.onUpdated.removeListener(h)}},{key:"hasListener",value:function(){var e=chrome.tabs.onUpdated.hasListener(h);this.updated$.next(e)}},{key:"stateConverger",value:function(){var e=this;chrome.runtime.onMessage.addListener((function(t){t.start===e.start&&(e.checkTwpoints(),e.hasListener()),t.stop===e.stop&&(e.checkTwpoints(),e.hasListener())}))}}]),e}();function l(){chrome.tabs.query({url:"https://www.twitch.tv/*"},(function(e){Object(o.a)(e).subscribe((function(e){chrome.tabs.sendMessage(e.id,{start:d.start})}))}))}function h(e,t){Object(i.a)(t).pipe(Object(s.a)((function(e){return/https\:\/\/www.twitch.tv\/\w+/.test(e.url)}))).subscribe((function(){return l()}))}var d=new u}},[["EtE5",0,1]]]);