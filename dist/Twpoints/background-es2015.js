(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{EtE5:function(t,e,s){"use strict";s.r(e),s.d(e,"Background",(function(){return h})),s.d(e,"initSearch",(function(){return d})),s.d(e,"listen",(function(){return u}));var n=s("XNiG"),i=s("itXk"),a=s("Cfvw"),o=s("LRne"),r=s("pLZG"),c=s("iq5f");class h{constructor(){this.start="initAction",this.stop="stopAction",this.sub$=new c.SubSink,this.svgSubject$=new n.a,this.updated$=new n.a,this.rules={conditions:[new chrome.declarativeContent.PageStateMatcher({pageUrl:{hostEquals:"www.twitch.tv",schemes:["https"]}})],actions:[new chrome.declarativeContent.ShowPageAction]},this.initConfig(),this.stateConverger(),this.updatedSvg$=Object(i.a)([this.updated$.asObservable(),this.svgSubject$.asObservable()]),this.updatedSvg$.subscribe(([t,e])=>{t&&!e&&this.chromeRemoveListener(),!t&&e&&this.chromeTabOnUpdate()})}initConfig(){chrome.runtime.onInstalled.addListener(()=>{chrome.declarativeContent.onPageChanged.removeRules(void 0,()=>{chrome.declarativeContent.onPageChanged.addRules([this.rules])}),this.chromeTabOnUpdate()})}checkTwpoints(){chrome.storage.sync.get("estado",t=>{this.svgSubject$.next(!0===t.estado&&t.estado)})}chromeTabOnUpdate(){chrome.tabs.onUpdated.addListener(u)}chromeRemoveListener(){chrome.tabs.onUpdated.removeListener(u)}hasListener(){const t=chrome.tabs.onUpdated.hasListener(u);this.updated$.next(t)}stateConverger(){chrome.runtime.onMessage.addListener(t=>{t.start===this.start&&(this.checkTwpoints(),this.hasListener()),t.stop===this.stop&&(this.checkTwpoints(),this.hasListener())})}}function d(){chrome.tabs.query({url:"https://www.twitch.tv/*"},t=>{Object(a.a)(t).subscribe(t=>{chrome.tabs.sendMessage(t.id,{start:p.start})})})}function u(t,e){Object(o.a)(e).pipe(Object(r.a)(t=>/https\:\/\/www.twitch.tv\/\w+/.test(t.url))).subscribe(()=>d())}const p=new h}},[["EtE5",0,1]]]);